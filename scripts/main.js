function kickoff_zoom(){var t=new ScrollMagic.Controller,e=new TimelineMax,o="#animation";e.set(o,{autoAlpha:0}).to(o,1,{rotation:"360",scale:5,autoAlpha:1}).to(o,2,{rotation:"720",scale:3,autoAlpha:0}).set(o,{autoAlpha:0});var n=new ScrollMagic.Scene({offset:$("#scene").offset().top+320,duration:900}).setPin("#scene").setTween(e).addTo(t);n.addIndicators()}function kickoff_tilt(){var t=new ScrollMagic.Controller;scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setPin("#tilt").addTo(t),blockTween=new TweenMax.to("#tilt1",1.5,{css:{transform:"rotateY(45deg) translateZ(-100px) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(t),blockTween=new TweenMax.to("#tilt2",1.5,{css:{transform:"rotateY(45deg) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(t),blockTween=new TweenMax.to("#tilt3",1.5,{css:{transform:"rotateY(45deg) translateZ(100px) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(t)}var ZoomGrid=function(){var t=$(window),e=$(".grid"),o=$(".grid__item"),n=o.find(".grid__link"),s=$(".post"),i=s.find(".post__back"),a=s.find(".post__forw"),r=700,c=!1,l=function(o){var s=($(this).find(".grid__link"),$(this)),i=s.index(),a=t.innerWidth(),l=t.innerHeight(),p=$(document).scrollTop(),d=o.pageX,u=o.pageY,w=$(this).innerWidth(),g=$(this).innerHeight(),m=a/w,h=l/g,v=($(this).offset(),p/(l+p)*100);return tox=d/a*100,toy=u/l*100,toy-=v,!c&&a>=r?(e.css({"transform-origin":tox+"% "+toy+"%"}),setTimeout(function(){requestAnimationFrame(function(){e.css({"transform-origin":tox+"% "+toy+"%",transform:"scale("+m+","+h+")"}),n.css({opacity:"0"}),$("body").css("overflow","hidden"),f(i),c=!0})},50)):(n.css({opacity:"0"}),f(i),c=!0),!1},p=function(){return c&&(s.addClass("post--hide"),s.removeClass("post--active"),s.on("transitionend",function(){e.css({transform:"scale(1)"}),n.css({opacity:"1"}),$("body").removeAttr("style"),s.off("transitionend")}),c=!1),!1},f=function(t){s.eq(t).removeClass("post--hide").addClass("post--active")},d=function(){var t=$(".post--active"),e=t.next(".post");return e.length||(e=s.first()),t.addClass("post--hide").removeClass("post--active"),e.removeClass("post--hide").addClass("post--active"),!1},u=function(){o.on("click",l),i.on("click",p),a.on("click",d)},w=function(){u()};return{init:w}}();ZoomGrid.init();var app=angular.module("app",[]),app=angular.module("app",[]);app.filter("to_trusted",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]),app.controller("AppCtrl",["$scope","$http",function(t,e){e({cache:!0,method:"GET",url:"http://wordpress-6754-14935-55771.cloudwaysapps.com/wp-json/wp/v2/posts",params:{"filter[posts_per_page]":10}}).success(function(e,o,n,s){t.posts=e})}]),$(function(){$("body").on("click",".selector",function(){$(this).zoomTarget()})}),$("#scene").length>0&&kickoff_zoom(),$("#tilt").length>0&&kickoff_tilt();