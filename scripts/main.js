function kickoff_zoom(){var e=new ScrollMagic.Controller;tween=new TimelineMax,object1="#animation",tween.set(object1,{autoAlpha:0}).to(object1,1,{rotation:"360",scale:5,autoAlpha:1}).to(object1,2,{rotation:"720",scale:3,autoAlpha:0}).set(object1,{autoAlpha:0}),scene=new ScrollMagic.Scene({offset:$("#scene").offset().top+320,duration:900}).setPin("#scene").setTween(tween).addTo(e),scene.addIndicators()}function kickoff_tilt(){var e=new ScrollMagic.Controller;scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setPin("#tilt").addTo(e),blockTween=new TweenMax.to("#tilt1",1.5,{css:{transform:"rotateY(45deg) translateZ(-100px) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(e),blockTween=new TweenMax.to("#tilt2",1.5,{css:{transform:"rotateY(45deg) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(e),blockTween=new TweenMax.to("#tilt3",1.5,{css:{transform:"rotateY(45deg) translateZ(100px) perspective(600px)",boxShadow:"1px 0 5px rgba(100, 100, 100, 0.6)"}}),scene=new ScrollMagic.Scene({offset:$("#tilt").offset().top-320,duration:320}).setTween(blockTween).addTo(e)}function debounce(e,t,n){var o;return function(){var i=this,r=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),n&&!o&&e.apply(i,r)}}var ZoomGrid=function(){var e=$(window),t=$(".grid"),n=$(".grid__item"),o=n.find(".grid__link"),i=$(".post"),r=i.find(".post__back"),a=i.find(".post__forw"),s=700,c=!1,l=function(n){var i=($(this).find(".grid__link"),$(this)),r=i.index(),a=e.innerWidth(),l=e.innerHeight(),d=$(document).scrollTop(),p=n.pageX,u=n.pageY,w=$(this).innerWidth(),m=$(this).innerHeight(),v=a/w,g=l/m,h=($(this).offset(),d/(l+d)*100);return tox=p/a*100,toy=u/l*100,toy-=h,!c&&a>=s?(t.css({"transform-origin":tox+"% "+toy+"%"}),setTimeout(function(){requestAnimationFrame(function(){t.css({"transform-origin":tox+"% "+toy+"%",transform:"scale("+v+","+g+")"}),o.css({opacity:"0"}),$("body").css("overflow","hidden"),f(r),c=!0})},50)):(o.css({opacity:"0"}),f(r),c=!0),!1},d=function(){return c&&(i.addClass("post--hide"),i.removeClass("post--active"),i.on("transitionend",function(){t.css({transform:"scale(1)"}),o.css({opacity:"1"}),$("body").removeAttr("style"),i.off("transitionend")}),c=!1),!1},f=function(e){i.eq(e).removeClass("post--hide").addClass("post--active")},p=function(){var e=$(".post--active"),t=e.next(".post");return t.length||(t=i.first()),e.addClass("post--hide").removeClass("post--active"),t.removeClass("post--hide").addClass("post--active"),!1},u=function(){n.on("click",l),r.on("click",d),a.on("click",p)},w=function(){u()};return{init:w}}();ZoomGrid.init();var app=angular.module("app",[]);app.filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),app.controller("AppCtrl",["$scope","$http",function(e,t){t({cache:!0,method:"GET",url:"http://wordpress-6754-14935-55771.cloudwaysapps.com/wp-json/wp/v2/posts",params:{"filter[posts_per_page]":10}}).success(function(t,n,o,i){e.posts=t})}]),$(function(){$("body").on("click",".selector",function(){$(this).zoomTarget()})}),$("#scene").length>0&&kickoff_zoom(),$("#tilt").length>0&&kickoff_tilt();var TiltAnimation=function(){var e,t,n,o,i=function(){e=0,t=0,slider=document.getElementById("hero"),n=document.getElementsByClassName("slider__itemX")[0],o=document.getElementsByClassName("slider__itemY")[0],r()},r=function(){window.addEventListener("mousemove",s,!1),void 0!=window.DeviceMotionEvent&&window.addEventListener("devicemotion",a,!1)},a=function(e){var t=1*event.accelerationIncludingGravity.x,i=1*event.accelerationIncludingGravity.y,r=1*event.accelerationIncludingGravity.z,a=20*Math.atan2(i,r),s=20*Math.atan2(t,r);a=Math.round(1e3*a)/1e3,s=Math.round(1e3*s)/1e3,c(s,a),o.innerHTML=s,n.innerHTML=a},s=function(i){i=i||window.event,e=i.pageX,t=i.pageY;var r=e/window.innerWidth-.5,a=t/window.innerHeight-.5,s=5*r,l=5*-a;c(s,l),n.innerHTML=e+"<br>"+r,o.innerHTML=t+"<br>"+a},c=function(e,t){TweenLite.to(slider,.6,{rotationY:e,rotationX:t,ease:Power1.easeOut,transformPerspective:900,transformOrigin:"center"})};return{init:i}}();TiltAnimation.init();var AnimateExcerpts=function(){var e,t,n=function(){e=document.querySelectorAll(".excerpt"),e=Array.prototype.slice.call(e),t=document.querySelectorAll(".excerpt__inner"),t=Array.prototype.slice.call(t),i(),o(),r()},o=function(){window.addEventListener("scroll",r,!1),window.addEventListener("resize",r,!1)},i=function(){TweenLite.set(t,{transformPerspective:900})},r=function(){e.forEach(function(e,t){a(e,t)})},a=function(e,t){var n=e.children[0],o=e.getBoundingClientRect(),i=o.height,r=o.bottom,a=o.top,s=o.top-window.innerHeight,c=o.bottom-window.innerHeight;if(0>=a&&r>=0){var l=a/i*-50;TweenLite.to(n,.3,{rotationX:l,transformOrigin:"50% 100%",ease:Power2.easeOut})}else if(0>=s&&c>=0){var l=c/i*-20;TweenLite.to(n,.3,{rotationX:l,transformOrigin:"50% 0%",ease:Power2.easeOut})}else TweenLite.to(n,.1,{rotationX:0,ease:Linear.easeNone})};return{init:n}}();AnimateExcerpts.init();